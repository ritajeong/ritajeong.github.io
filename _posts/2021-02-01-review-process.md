---
layout: post
title: "OS summary"
subtitle: "운영체제 도입부"
categories: review
tags: review
comments: true
date: 2021-02-01 23:57:00 -0400
---

CS Study- 운영체제 1장 작성중

## 들어가며  
정보란 : 어떤 불확실한 상황을 측정해서 수치로 표현한 것이다.  

### 📌컴퓨터가 정보를 어떻게 처리하나요?  
- 정보의 최소단위는 bit이다.  
8bit가 모이면 1byte. 

- 정보의 처리는 정보의 상태변환으로 이루어진다. 0에서 1로, 1에서 0으로 상태가 변하면서 처리된다.  
- 부울대수(Boolean Algebra) : NOT, AND, OR  
gate는 트랜지스터로 만들 수 있다. 전기가 흐르면 1, 아니면 0. 0/1, On/Off, Head/Tail.  
- 논리게이트 : NOT, AND, OR, XOR, NAND, NOR  
이 6가지 논리게이트를 만들면 집적회로를 만들 수 있다.
- 논리회로 : IC, LSI, VLSI, ULSI, SoC,....  
  - 무어의 법칙, 황의 법칙  
- 정보의 저장과 전송 : 플립-플롭, 데이터 버스, RF.  

### 📌그래서, 컴퓨터가 정보를 어떻게 처리하죠?  
덧셈은? 반가산기, 전가산기.  
뺄셈은? 2의 보수 표현법.  
곰셉과 나눗셈은 덧셈과 뺄셈의 반복.  
실수 연산은 부동 소수점 표현법. 이걸로 별도의 회로를 만들면 GPU가 된다.  
GOTO 함수로 원하는 위치로 갈 수 있다.  
if, else로 삼각함수, 미분, 적분 등 구현.  

### 📌컴퓨터가 만능이라는 건가요?    
- 범용성 : universality  
  - NOT, AND, OR 게이트 만으로 모든 계산을 할 수 있다.  
  - NAND 게이트 만으로 모든 계산을 할 수 있다.   
  - 범용 컴퓨터를 general-purpose computer라고 한다.  
- 계산 가능성 : computability  
  - Turing-Computable: 튜링머신으로 계산 가능한 것  
  - 정지 문제 : Halting problem 튜링머신으로 풀 수 없는 문제.  

### 📌컴퓨터는 누가 만들었나요?  
- 컴퓨터의 할아버지 : Alan Turing의 Turing machine.  
- 컴퓨터의 아버지 : John von Neumann의 ISA(Instruction Set architecture)  
cf. 앨런 튜링의 전기를 담은 영화 [이미테이션 게임]을 추천한다.   

### 📌폰 노이만이 왜 컴퓨터의 아버지인가요?  
내장형 프로그램 방식을 처음 도입한 게 폰 노이만이다.  
fetch와 execute의 사이클을 가진 stored-program을 처음 설계한 사람.  
명령어 집합으로 컴퓨터를 운영하는 것이 ISA.  

### 📌프로그램의 정의
프로그램은 명령어의 집합이다.  
소스코드를 컴파일하면 기계어로 변환된다.  

### 📌운영체제도 프로그램인가요?  
- OS는 컴퓨터에서 항상 실행되는 universal turing machine에 해당된다.  
- OS는 컴퓨터 하드웨어(CPU, memory, IO device, storage)를 관리한다.  
- OS는 시스템 서비스를 응용프로그램에 제공한다.  
- processes, resources, user interfaces 등을 관리한다.  

### 📌운영체제가 뭔가요?
OS는 컴퓨터 시스템을 운영하는 소프트웨어다. 
하드웨어 장치들이 있으면 이들을 운영하는 OS가 있고,  
User가 사용하는 응용 프로그램이나 유저 인터페이스를 관리한다.  



공룡책 1장, 2장 : 서론
3장~8장이 중요하다! 
## 📌1.1 What Operating Systems Do
운영체제는 응용프로그램과 하드웨어의 중간 매개역할을 한다.
하드웨어를 관리하고, 프로그램의 수행을 제어한다.  
사용자 관점에서 
4가지 구성요소로 생각해보자 : 하드웨어, OS, 응용프로그램, 유저
<image>
OS라는 추상적인 레이어가 있음

### 📌운영체제의 정의
universal한 정의는 없다.  
그러나 흔한 정의로는, 항상 작동중인 프로그램이다. 즉, 커널이라고 부른다.  

## 📌1.1 Computer-System Organization
책에는 modern computer의 시스템을 말하지만,  
요즘의 modern computer 는 신경망, 네트워크, 양자 컴퓨터 등(기존의 폰노이만 구조를 따르지 않는)을 말한다.  
그래서 전통적인 컴퓨터 시스템은  
한개 또는 여러개의 CPU와 여러개의 device controllers와 bus로 연결되어있다.  


## 1장 서론
### 1.1 운영체제가 할 일
- 역할 : 하드웨어를 관리, 프로그램 수행을 제어하는 일   
사용자관점 : 용이     
시스템관점 : 자원할당자(리소스관리), 제어프로그램(장치관리, 오류보고)
- 컴퓨터시스템의 구성   
하드웨어 : CPU, 메인메모리, 스토리지, io장치  
소프트웨어 : 스케줄링하고 오류를 보고함.    
- 운영체제 정의     
os=커널=핵심적인 파트, 컴퓨터시스템이 동작하려면은 반드시 수행되어야 되는 프로그램.     
커널 외 프로그램은 시스템 프로그램과 애플리케이션 프로그램으로 나뉨.    
응용프로그램 : 사용자 목적에 맞춰서 씀.    
시스템 프로그램 : 시스템을 효과적으로 사용할 수 있도록 지원해주는 응용 레벨의 프로그램.     
파일관리, 프로그램 랭귀지 관리, 프로그램 로딩/실행 등.  
하드웨어에 접근하는 프로그램이기 때문에 시스템콜이 자주 발생    

핵심문장 : 프로그램을 수행하려면 디스크로부터 읽어들여서 메인메모리에 로딩해야함

### 1.2 컴퓨터 시스템의 구성
### 1.2.1 인터럽트
io연산과 cpu프로그램 수행이 동시에 진행(DMA)되기 때문에      
io연산이 종료됨을 cpu에게 알리기 위한 메커니즘.     
장치컨트롤러의 로컬버퍼에서, 데이터를 메인메모리로 이동 
- 과정 : 인터럽트 발생  
무조건적으로 해당 인터럽트 서비스 루틴을 실행.  
인터럽트 벡터(테이블)에서 주소색인.    
기존에 수행됐던 프로그램 잠시 중단.     
인터럽트 핸들러 루틴이 종료되면 중단된 위치로 복귀해야함.   
**10p그림**

### 1.2.2 저장장치 구조
계층적  
**14p그림**     
캐시 : 빠른 스토리지 매체에 있으면 사용, 아니면 스토리지에 접근.    

### 1.3 컴퓨터시스템 구조
- 멀티프로세서-장점 : 스루풋 증가, 경제적(메모리 공유), 신뢰성 높음(고장나면 다른 코어)     
- ASMP : master가 지시하고, slave는 자신만의 메모리만 실행가능 relationship)     
SMP : 프로세서간 master-slave관계가 없다. 그리고 많은 경우 메모리는 여러 프로세스간에 공유돼서 사용된다 .
- SMP는 크게 두 가지    
UMA : 동일한 메모리 액세스타임을 가짐. 어떤 위치에서 접근해도 보임.    
NUMA : 메모리 위치에 따라 달라짐.   


### 1.4 운영체제의 작동
- 멀티프로세서  : 여러개의 CPU 가 사용되는 시스템   
- 멀티코어 : CPU칩에 여러개 CPU 코어가 내포되는 경우.   

사실상 거의 모든 시스템은 이제 다중코어지만 컴퓨터 시스템의 단일 계산 단위를 가리킬 때는 일반적인 용어인 CPU 를 사용하고 하나의 CPU 에 존재하는 하나 이상의 코어를 구체적으로 언급할 때 코어와 다중 코어 용어를 사용한다. (p19)

- cpu 스케줄링 : 여러개의 프로그램이 동시에 수행될 수 있음.     
그러나 cpu는 하나. cpu에게 어떤 잡을 할당할 것인지 결정.    
- 잡 스케줄링 : 여러개의 잡을 수행하려면 그 잡들이 모두 메모리에 로딩되어야함.      
메모리는 한정되어있기에 어떤 잡들을 메모리로 올릴 것인지 결정하는 것.   
- 스와핑 :  프로그램을 실행하려면 무조건 메모리로 로딩해야함.   
그러나 현재 메모리에 다른 프로그램들이 꽉 차있다면 메모리로부터 디스크로 특정 잡을 쫓아내야 함.     
그리고 새로운 잡을 디스크에서부터 메모리로 로딩을 해야함.   
디스크로 로딩하는 잡을 스왑인, 메모리에서 디스크로 쫓아내는 것을 스왑아웃이라함.    
- 버추얼 메모리 :  여러개의 프로그램이 실행중일 때, 실행중인 많은 프로그램들이 메모리로 반드시 로딩될 필요는 없다.      
따라서 CPU가 보는 주소공간, 사용자가 보는 주소공간은 실제 피지컬 메모리의 주소공간보다 클 수 있음. 
따라서 버추얼 메모리라는 개념이 도입되었는데 피지컬메모리 즉 실제 사용되는 메모리보다 더 많은 공간을 쓰기 위해 사용자가 보는 주소공간을 버추얼 메모리라고 명명한다.     
- 프로세스 : 현재 번갈아가면서 수행되는 모든 잡들을 프로세스라고 함.    
- 인터럽트 분류 : HW인터럽트, SW인터럽트는 트랩이라고 하고 익셉션, 시스템콜이 있다.          
- 듀얼모드 : os를 에러로부터 보호하기 위해 유저모드, 커널모드로 실행    
- 모드비트 : 0이면 커널모드로 실행, 1이면 유저모드. 시스템콜이 호출되면 커널모드로 진입     